<UserControl x:Class="InterdisciplinairProject.Views.TimelineScene"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:InterdisciplinairProject.Views" xmlns:viewmodels="clr-namespace:InterdisciplinairProject.ViewModels" d:DataContext="{d:DesignInstance Type=viewmodels:ShowbuilderViewModel}"
             mc:Ignorable="d" 
             Width="auto" Height="auto">
    <Border BorderBrush="#E0E0E0" BorderThickness="2" CornerRadius="12" Padding="5" Margin="4">
        <Border.Background>
            <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                <GradientStop Color="#FFFFFF" Offset="0"/>
                <GradientStop Color="#F8F9FA" Offset="1"/>
            </LinearGradientBrush>
        </Border.Background>
        <Border.Effect>
            <DropShadowEffect Color="#000000" Opacity="0.15" BlurRadius="12" ShadowDepth="4" Direction="270"/>
        </Border.Effect>

        <Grid>
            <!-- Left arrow button (correct left pointing icon) -->
            <Button Height="25" Width="25"
     HorizontalAlignment="Left"
     VerticalAlignment="Top"
     Margin="0,0,0,0"
     Command="{Binding MoveSceneCommand}"
     CommandParameter="left"
     ToolTip="Move scene left">
                <Button.Template>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border" Background="#E3F2FD" BorderBrush="#2196F3" BorderThickness="1" CornerRadius="6">
                            <Viewbox Width="12" Height="12" Margin="2">
                                <Canvas Width="16" Height="16">
                                    <!-- Left pointing triangle -->
                                    <Path Data="M10,2 L4,8 L10,14"
                       Stroke="#2196F3"
                       StrokeThickness="2"
                       StrokeStartLineCap="Round"
                       StrokeEndLineCap="Round"
                       StrokeLineJoin="Round"
                       Fill="Transparent"/>
                                </Canvas>
                            </Viewbox>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#BBDEFB"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Button.Template>
            </Button>


            <!-- Right arrow button (correct right pointing icon) -->
            <Button Height="25" Width="25"
            HorizontalAlignment="Right"
            VerticalAlignment="Top"
            Margin="54,0,0,0"
            Command="{Binding MoveSceneCommand}"
            CommandParameter="right"
            ToolTip="Move scene right">  
                <Button.Template>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border" Background="#E3F2FD" BorderBrush="#2196F3" BorderThickness="1" CornerRadius="6">
                            <Viewbox Width="12" Height="12" Margin="2">
                                <Canvas Width="16" Height="16">
                                    <!-- Right pointing triangle -->
                                    <Path Data="M6,2 L12,8 L6,14"
                                      Stroke="#2196F3"
                                      StrokeThickness="2"
                                      StrokeStartLineCap="Round"
                                      StrokeEndLineCap="Round"
                                      StrokeLineJoin="Round"
                                      Fill="Transparent"/>      
                                </Canvas>
                            </Viewbox>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#BBDEFB"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Button.Template>
            </Button>


            <StackPanel HorizontalAlignment="Center" VerticalAlignment="Top" Margin="0,28,0,0">
                <Button Height="25" Width="25" VerticalAlignment="Top" HorizontalAlignment="Center"
                Margin="0,0,0,0"
                Command="{Binding DataContext.DeleteTimelineSceneCommand, RelativeSource={RelativeSource AncestorType={x:Type local:ShowbuilderView}}}"
                CommandParameter="{Binding SceneModel}"
                ToolTip="Delete scene">
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <Border x:Name="border" Background="#FFEBEE" BorderBrush="#F44336" BorderThickness="1" CornerRadius="6">
                                <Viewbox Width="12" Height="12" Margin="2">
                                    <!-- simple X icon -->
                                    <Canvas Width="16" Height="16">
                                        <Path Data="M2,2 L14,14 M14,2 L2,14"
                      Stroke="#F44336"
                      StrokeThickness="2"
                      StrokeStartLineCap="Round"
                      StrokeEndLineCap="Round"/>
                                    </Canvas>
                                </Viewbox>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter TargetName="border" Property="Opacity" Value="0.95"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Button.Template>
                </Button>

                <TextBlock Text="{Binding Name }"
                           FontWeight="SemiBold"
                           FontSize="16"
                           Foreground="#2C3E50"
                           HorizontalAlignment="Center"
                           Margin="0,8,0,18" />
                
                <Button Width="40" Height="40" ToolTip="Settings"
                        Command="{Binding OpenSettingsCommand}"
                        CommandParameter="{Binding SceneModel}">
                    <Button.Style>
                        <Style TargetType="{x:Type Button}">
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="{x:Type Button}">
                                        <Border x:Name="border" Background="#607D8B" CornerRadius="20" BorderBrush="#546E7A" BorderThickness="1.5">
                                            <Border.Effect>
                                                <DropShadowEffect Color="#000000" Opacity="0.15" BlurRadius="6" ShadowDepth="3" Direction="270"/>
                                            </Border.Effect>
                                            <Path Data="M15.95 10.78c.03-.25.05-.51.05-.78s-.02-.53-.06-.78l1.69-1.32c.15-.12.19-.34.1-.51l-1.6-2.77c-.1-.18-.31-.24-.49-.18l-1.99.8c-.42-.32-.86-.58-1.35-.78L12 2.34c-.03-.2-.2-.34-.4-.34H8.4c-.2 0-.36.14-.39.34l-.3 2.12c-.49.2-.94.47-1.35.78l-1.99-.8c-.18-.07-.39 0-.49.18l-1.6 2.77c-.1.18-.06.39.1.51l1.69 1.32c-.04.25-.07.52-.07.78s.02.53.06.78L2.37 12.1c-.15.12-.19.34-.1.51l1.6 2.77c.1.18.31.24.49.18l1.99-.8c.42.32.86.58 1.35.78l.3 2.12c.04.2.2.34.4.34h3.2c.2 0 .37-.14.39-.34l.3-2.12c.49-.2.94-.47 1.35-.78l1.99.8c.18.07.39 0 .49-.18l1.6-2.77c.1-.18.06-.39-.1-.51l-1.67-1.32zM10 13c-1.65 0-3-1.35-3-3s1.35-3 3-3 3 1.35 3 3-1.35 3-3 3z"
                                                  Fill="White"
                                                  Stretch="Uniform"
                                                  Width="20"
                                                  Height="20"/>
                                        </Border>
                                        <ControlTemplate.Triggers>
                                            <Trigger Property="IsMouseOver" Value="True">
                                                <Setter TargetName="border" Property="Background" Value="#78909C"/>
                                                <Setter TargetName="border" Property="BorderBrush" Value="#607D8B"/>
                                            </Trigger>
                                        </ControlTemplate.Triggers>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </Button.Style>
                </Button>

            </StackPanel>
        </Grid>
    </Border>
</UserControl>
